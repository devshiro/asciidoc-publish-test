plugins {
    id 'org.asciidoctor.jvm.pdf' version '3.3.2'
}

repositories {
    mavenCentral()
}

group 'org.example'
version "${System.getenv('CI_VERSION')?: 'null'}"

asciidoctorj {
    modules {
        diagram.use()
        pdf.use()
    }

    asciidoctorPdf {
        sourceDir file('src')
        sources {
            include 'docs/example_doc.adoc'
        }
        outputDir file('build')
        baseDirFollowsSourceFile()
    }
}

assemble.dependsOn(asciidoctorPdf)